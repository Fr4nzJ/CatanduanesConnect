{% extends "base.html" %}

{% block title %}System Design - Catanduanes Connect{% endblock %}

{% block styles %}
{{ super() }}
<style>
    .design-section {
        margin-bottom: 3rem;
    }
    .diagram-container {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
    }
    .diagram-title {
        color: #2c3e50;
        margin-bottom: 1rem;
    }
    .diagram-description {
        color: #666;
        margin-bottom: 1.5rem;
    }
    .diagram-image {
        max-width: 100%;
        height: auto;
        border: 1px solid #ddd;
        border-radius: 4px;
    }
    .tech-stack {
        background: #e9ecef;
        padding: 15px;
        border-radius: 4px;
        margin: 10px 0;
    }
    .tech-item {
        margin: 5px 0;
    }
</style>
{% endblock %}

{% block content %}
<div class="container py-4">
    <h1 class="mb-4">System Design Documentation</h1>
    
    <!-- Context Diagram Section -->
    <div class="design-section">
        <h2 class="diagram-title">1. Context Diagram</h2>
        <div class="diagram-description">
            <p>The Context Diagram shows how Catanduanes Connect interacts with external entities and systems.</p>
        </div>
        <div class="diagram-container">
            <img src="{{ url_for('static', filename='images/context_diagram.png') }}" alt="Context Diagram" class="diagram-image">
            <div class="mt-3">
                <h5>External Entities:</h5>
                <ul>
                    <li>Users (Job Seekers, Business Owners, Administrators)</li>
                    <li>Google Maps API</li>
                    <li>AI Chatbot Service</li>
                    <li>Email Service</li>
                    <li>Payment Gateway</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Data Flow Diagram Section -->
    <div class="design-section">
        <h2 class="diagram-title">2. Data Flow Diagram</h2>
        <div class="diagram-description">
            <p>Illustrates how data moves through the system, from user input to storage and processing.</p>
        </div>
        <div class="diagram-container">
            <img src="{{ url_for('static', filename='images/data_flow_diagram.png') }}" alt="Data Flow Diagram" class="diagram-image">
            <div class="mt-3">
                <h5>Key Data Flows:</h5>
                <ul>
                    <li>User Registration → Database</li>
                    <li>Business Listing → Map Display</li>
                    <li>Job Posting → Search Index</li>
                    <li>Chatbot Query → AI Processing → Response</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- User Diagram Section -->
    <div class="design-section">
        <h2 class="diagram-title">3. User Diagram</h2>
        <div class="diagram-description">
            <p>Shows the different user roles and their interactions with system features.</p>
        </div>
        <div class="diagram-container">
            <img src="{{ url_for('static', filename='images/user_diagram.png') }}" alt="User Diagram" class="diagram-image">
            <div class="mt-3">
                <h5>User Roles:</h5>
                <ul>
                    <li>Job Seeker</li>
                    <li>Business Owner</li>
                    <li>Administrator</li>
                    <li>System (AI Chatbot)</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Activity Diagram Section -->
    <div class="design-section">
        <h2 class="diagram-title">4. Activity Diagram / Process Swimlane</h2>
        <div class="diagram-description">
            <p>Details the workflow processes for key system operations.</p>
        </div>
        <div class="diagram-container">
            <img src="{{ url_for('static', filename='images/activity_diagram.png') }}" alt="Activity Diagram" class="diagram-image">
            <div class="mt-3">
                <h5>Key Processes:</h5>
                <ul>
                    <li>Job Application Workflow</li>
                    <li>Business Registration Process</li>
                    <li>Chatbot Interaction Flow</li>
                    <li>Map Interaction Process</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Entity-Relationship Diagram Section -->
    <div class="design-section">
        <h2 class="diagram-title">5. Entity-Relationship Diagram</h2>
        <div class="diagram-description">
            <p>Shows the database structure and relationships between entities.</p>
        </div>
        <div class="diagram-container">
            <img src="{{ url_for('static', filename='images/er_diagram.png') }}" alt="ER Diagram" class="diagram-image">
            <div class="mt-3">
                <h5>Main Entities:</h5>
                <ul>
                    <li>Users</li>
                    <li>Businesses</li>
                    <li>Jobs</li>
                    <li>Applications</li>
                    <li>Reviews</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- System Architecture Section -->
    <div class="design-section">
        <h2 class="diagram-title">6. System Architecture</h2>
        <div class="diagram-description">
            <p>Overview of the system's technical architecture and components.</p>
        </div>
        <div class="diagram-container">
            <img src="{{ url_for('static', filename='images/system_architecture.png') }}" alt="System Architecture" class="diagram-image">
            <div class="mt-3">
                <h5>Architecture Components:</h5>
                <div class="tech-stack">
                    <div class="tech-item"><strong>Frontend:</strong> HTML5, CSS3, JavaScript, Bootstrap 5</div>
                    <div class="tech-item"><strong>Backend:</strong> Flask (Python), SQLAlchemy</div>
                    <div class="tech-item"><strong>Database:</strong> PostgreSQL</div>
                    <div class="tech-item"><strong>AI Integration:</strong> LangChain, OpenAI GPT-4</div>
                    <div class="tech-item"><strong>Maps:</strong> Google Maps API, Leaflet.js</div>
                    <div class="tech-item"><strong>Deployment:</strong> Docker, AWS/GCP</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Storyboard Section -->
    <div class="design-section">
        <h2 class="diagram-title">7. Storyboard</h2>
        <div class="diagram-description">
            <p>Illustrates the user interface and navigation flow.</p>
        </div>
        <div class="diagram-container">
            <img src="{{ url_for('static', filename='images/storyboard.png') }}" alt="Storyboard" class="diagram-image">
            <div class="mt-3">
                <h5>Key User Flows:</h5>
                <ul>
                    <li>User Registration and Login</li>
                    <li>Business Profile Creation</li>
                    <li>Job Search and Application</li>
                    <li>Map Navigation and Interaction</li>
                    <li>Chatbot Interaction</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
    // Add any necessary JavaScript for diagram interactions
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize any interactive elements
    });
</script>
{% endblock %} 